<#include "/admin/plugins/workflow/modules/notifygru/include/commons.html"/>
<@row>
  <@columns>
		<div style="display:flex;justify-content:space-between;border-bottom:1px solid gainsboro;padding-bottom:5px;margin-bottom:15px">
			<h4>#i18n{module.workflow.alertgru.task_alert_gru_config.title_agent}<h4>
			<@button type='submit' title='' hideTitle=['all'] name='apply' id='remove-config-agent' value='RemoveAlertConfig_agent' buttonIcon='trash' color='danger' size='sm' />
			<script type="text/javascript">
				// Remove required attribute on fields to allow the form submission
				$("#remove-config-agent").click(function() {
					if (jQuery('input:invalid').length > 0) {
						$('[required]').removeAttr("required");
					}
				});
			</script>
		</div>
	</@columns>
</@row>
<@row>
	<@columns xl=8>
		<@formGroup labelFor='status_text_agent' labelKey='#i18n{module.workflow.alertgru.task_alert_gru_config.label_status_text_agent}' helpKey='#i18n{module.workflow.alertgru.task_alert_gru_config.label_status_text_agent_helper}' mandatory=true rows=2>
			<#if config?exists && config.statustextAgent?has_content>
				<@input type='text' name='status_text_agent' id='status_text_agent' value='${config.statustextAgent}' maxlength=255 />
			<#else>
				<@input type='text' name='status_text_agent' id='status_text_agent' value='' maxlength=255 />
			</#if>
		</@formGroup>
		
		<@formGroup labelFor='message_agent' labelKey='#i18n{module.workflow.alertgru.task_alert_gru_config.label_message_agent}' helpKey='#i18n{module.workflow.alertgru.task_alert_gru_config.label_message_comment_agent}' mandatory=true rows=2>
			<#if config?exists && config.messageAgent?has_content>
				<@input type='textarea' name='message_agent' id='message_agent' rows=5 cols=70 richtext=true>${config.messageAgent}</@input>
			<#else>
				<@input type='textarea' name='message_agent' id='message_agent' rows=5 cols=70 richtext=true />
          </#if>
        </@formGroup>
	</@columns>
	<@columns xl=4>
		<@marker_descriptions />
	</@columns>
</@row>